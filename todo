EmailSender

MessageQueue->add
- save to MessageStore, get messageId
- save to MessageLog, get messageLogId
- send to the MessageQueue

MessageQueue->send
- parse	input
- load message from MessageStore
- load message from MessageLog
- send to SMTP
- update message to the MessageLog

MessageLog->list
- parse post
- load messages from MessageLog
- send to the html

MessageLog->view
- create twig
- send to html


Domain aggregates:
------------------

Message (aggregate) not stored, just for validating, building, encapsulating data
from
to
cc
bcc
subject
body
replyTo
delay


MessageStore (aggregate) SQL / NoSQL
messageId
recipients
message

MessageLog (aggregate) SQL
logId
messageId
from
recipients
subject
queued
sent
delay
status
errorMessage

MessageQueue (aggregate) Rabbit
logId
messageId
delay


